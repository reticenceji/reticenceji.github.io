{% extends "base.html" %}

{% block content %}
    {{ super() }}
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var article = document.querySelector('.md-content__inner');
            if (article) {
                var references = document.createElement('div');
                references.className = 'references';
                
                // æ·»åŠ åå‘å¼•ç”¨
                {% if backlinks %}
                    var backlinks = document.createElement('div');
                    backlinks.className = 'backlinks';
                    backlinks.innerHTML = `
                        <h2>åå‘å¼•ç”¨</h2>
                        <ul>
                            {% for backlink in backlinks %}
                                <li><a href="{{ backlink.url }}">{{ backlink.title }}</a></li>
                            {% endfor %}
                        </ul>
                    `;
                    references.appendChild(backlinks);
                {% endif %}

                // æ·»åŠ å…ƒæ•°æ®ï¼ˆæ—¶é—´ä¿¡æ¯ï¼‰
                var meta = document.createElement('div');
                meta.className = 'article-meta';
                var metaContent = [];
                
                {% if page.meta.date_created %}
                    metaContent.push(`<span class="meta-item">
                        ğŸ“… åˆ›å»ºäº {{ page.meta.date_created }}
                    </span>`);
                {% endif %}
                
                {% if page.meta.date_modified %}
                    metaContent.push(`<span class="meta-item">
                        ğŸ”„ æ›´æ–°äº {{ page.meta.date_modified }}
                    </span>`);
                {% endif %}
                
                if (metaContent.length > 0) {
                    meta.innerHTML = `<hr class="meta-divider">` + metaContent.join('<br>');
                }
                
                // å°†å¼•ç”¨å’Œå…ƒæ•°æ®æ·»åŠ åˆ°æ–‡ç« æœ«å°¾
                if (references.children.length > 0) {
                    article.appendChild(references);
                }
                if (metaContent.length > 0) {
                    article.appendChild(meta);
                }
            }
        });
    </script>
{% endblock %} 